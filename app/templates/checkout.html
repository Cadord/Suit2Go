{% extends 'base.html' %}

{% block title %}Suit2Go - Carrinho{% endblock %}

{% block content %}
{% load static %}
<link rel="stylesheet" type="text/css" href="{% static 'styles.css' %}">
<div>
  <h1>Pode ter um título aqui também se quiser</h1>
  <form action="{% url 'checkout' %}" method="post">
    {% csrf_token %}
    <div id="passo1">
      <h2>Informe o endereço de entrega</h2>
      {{ forms.endereco.as_p }}
      <div>
        <button type="button" onclick="controlState('passo2')">Próximo</button>
      </div>
    </div>
    <div id="passo2">
      <h2>Data da locação</h2>
      {{ forms.data.as_p }}
      <div>
        <button type="button" onclick="controlState('passo1')">Anterior</button>
        <button type="submit">Pagamento</button>
      </div>
    </div>
  </form>
</div>

<script>
  // pode adicionar passos extras ou remover se necessário
  var states = ["passo1", "passo2"];

  // Esta função controla a visibilidade das etapas
  function controlState(currentState) {
    const el = document.getElementById(currentState);
    el.style.display = "block";
    for (let state of states) {
      document.getElementById(state).style.display = 'none';
    }
    document.getElementById(currentState).style.display = 'block';
  }
  controlState(states[0]);
</script>
{% endblock %}